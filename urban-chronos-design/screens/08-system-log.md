# URBAN_CHRONOS v2.0 ‚Äî System Log Page

## Scopo
Feed live di tutti gli eventi del sistema in formato terminale.
Stile monitor di controllo cyberpunk.

## Layout

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚Üê SYSTEM LOG // LIVE FEED    [‚è∏] [üóë] ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îå‚îÄ FILTERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [ALL] [INFO] [WARN] [ERROR] [SYSTEM]‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:23:01] [SYSTEM]                  ‚îÇ ‚îÇ
‚îÇ ‚îÇ URBAN_CHRONOS v2.0 initialized.      ‚îÇ ‚îÇ
‚îÇ ‚îÇ All sectors nominal.                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:23:02] [INFO]                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ Census Bureau API connected.         ‚îÇ ‚îÇ
‚îÇ ‚îÇ Latency: 145ms.                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:23:03] [INFO]                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ Loaded 287 census tracts for         ‚îÇ ‚îÇ
‚îÇ ‚îÇ New York, NY.                        ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:23:05] [WARN]                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ Sovereignty index below threshold:   ‚îÇ ‚îÇ
‚îÇ ‚îÇ 31%. Freedom at risk.                ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:23:06] [INFO]                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ Prediction engine: composite model   ‚îÇ ‚îÇ
‚îÇ ‚îÇ selected. Projecting 2024-2035.      ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:23:08] [WARN]                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ Entropy seed at 5%. Deterministic    ‚îÇ ‚îÇ
‚îÇ ‚îÇ lock-in probable.                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:25:30] [INFO]                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ Dashboard loaded. 24 sectors nominal.‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ [14:28:15] [SYSTEM]                  ‚îÇ ‚îÇ
‚îÇ ‚îÇ PANKOW_77C> Optimization is death.   ‚îÇ ‚îÇ
‚îÇ ‚îÇ Proceed with caution.                ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ > _                                  ‚îÇ ‚îÇ
‚îÇ ‚îÇ                                      ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îå‚îÄ SYSTEM STATS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ CORE: ONLINE | LATENCY: 12ms        ‚îÇ ‚îÇ
‚îÇ ‚îÇ UPTIME: 00:14:32 | EVENTS: 47       ‚îÇ ‚îÇ
‚îÇ ‚îÇ ERRORS: 0 | WARNINGS: 3             ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Specifiche Widget FlutterFlow

### Log Entry (componente)

```
Componente: LogEntry
Parametri:
  - timestamp: String
  - level: String (INFO, WARN, ERROR, SYSTEM)
  - message: String

Widget:
  Container
    padding: 8px 0
    borderBottom: 1px solid #0d0d0d
    child: Column(crossAxisAlignment: start)
      ‚îú‚îÄ‚îÄ Row
      ‚îÇ     ‚îú‚îÄ‚îÄ Text "[${timestamp}]"
      ‚îÇ     ‚îÇ     style: Courier New, 10px, #555555
      ‚îÇ     ‚îú‚îÄ‚îÄ SizedBox(8)
      ‚îÇ     ‚îî‚îÄ‚îÄ Container
      ‚îÇ           padding: 1px 6px
      ‚îÇ           background: [colore level con alpha 20%]
      ‚îÇ           border: 1px solid [colore level]
      ‚îÇ           child: Text "[${level}]"
      ‚îÇ             style: Courier New, 10px, Bold, [colore level]
      ‚îú‚îÄ‚îÄ SizedBox(4)
      ‚îî‚îÄ‚îÄ Text(message)
            style: Courier New, 12px, #e0e0e0
            lineHeight: 1.4

Colori per livello:
  INFO:   #00ff41
  WARN:   #ffaa00
  ERROR:  #ff0040
  SYSTEM: #9d00ff (vhs-purple)
```

### Log Container

```
Container:
  background: #0a0a0a
  border: 1px solid #222222
  padding: 12px
  child: Column
    ‚îú‚îÄ‚îÄ ListView (reverse: true, per auto-scroll al fondo)
    ‚îÇ     stream: Firestore query system_logs orderBy timestamp DESC
    ‚îÇ     itemBuilder: LogEntry
    ‚îÇ
    ‚îî‚îÄ‚îÄ BlinkingCursor
          child: Text "> _"
            style: Courier New, 12px, #00ff41
            animation: opacity 0/1, 500ms loop
```

### Filter Chips

```
Row:
  ‚îú‚îÄ‚îÄ FilterChip("ALL", activeFilter == null)
  ‚îú‚îÄ‚îÄ FilterChip("INFO", activeFilter == 'INFO')
  ‚îú‚îÄ‚îÄ FilterChip("WARN", activeFilter == 'WARN')
  ‚îú‚îÄ‚îÄ FilterChip("ERROR", activeFilter == 'ERROR')
  ‚îî‚îÄ‚îÄ FilterChip("SYSTEM", activeFilter == 'SYSTEM')

Stile:
  Active: background #00ff4120, border #00ff41, text #00ff41
  Inactive: background transparent, border #333333, text #555555
  Font: Orbitron, 9px, uppercase
```

### Log Actions

```
Pause (‚è∏): ferma l'auto-scroll, l'utente puo scorrere liberamente
Clear (üóë): conferma dialog, poi cancella logs da Firestore
```

## Logging nel Sistema

In ogni pagina e Custom Action, usa questa utility per loggare:

```dart
// Custom Action: logSystemEvent
Future<void> logSystemEvent({
  required String level,    // 'INFO'|'WARN'|'ERROR'|'SYSTEM'
  required String source,   // 'CORE'|'CENSUS_API'|'PREDICTION'|'ENTROPY'
  required String message,
}) async {
  // Aggiungi a Firestore
  await FirebaseFirestore.instance.collection('system_logs').add({
    'timestamp': FieldValue.serverTimestamp(),
    'level': level,
    'source': source,
    'message': message,
    'metadata': {
      'userId': currentUser?.uid,
    },
  });

  // Aggiungi anche ad AppState.systemLogs per visualizzazione immediata
  // (evita latenza Firestore per UI real-time)
}
```
